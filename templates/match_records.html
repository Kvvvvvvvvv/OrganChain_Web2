<!DOCTYPE html>
<html>
<head>
    <title>Match Records</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
<nav class="navbar">
    <div class="nav-container">
        <a class="brand" href="/login">Organ Donor Chain</a>
        <ul class="nav-links">
            <li><a href="/logout">Logout</a></li>
        </ul>
    </div>
</nav>
<section class="hero">
    <div class="hero-inner">
        <h1>Match Records</h1>
        <p>All successful donor-patient matches are listed below.</p>
    </div>
</section>
<div class="container">
    <h2>Match History (First-Come-First-Serve)</h2>
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Donor Name</th>
                    <th>Donor ID</th>
                    <th>Patient Name</th>
                    <th>Patient ID</th>
                    <th>Organ</th>
                    <th>Blood Type</th>
                    <th>Donor Hospital</th>
                    <th>Patient Hospital</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                {% for match in matches %}
                <tr>
                    <td>{{ match.donor_name }}</td>
                    <td style="font-family: 'Courier New', monospace; font-size: 12px;">{{ match.donor_unique_id[:8] }}...</td>
                    <td>{{ match.patient_name }}</td>
                    <td style="font-family: 'Courier New', monospace; font-size: 12px;">{{ match.patient_unique_id[:8] }}...</td>
                    <td>{{ match.organ }}</td>
                    <td>{{ match.blood_type }}</td>
                    <td>{{ match.donor_hospital }}</td>
                    <td>{{ match.patient_hospital }}</td>
                    <td>{{ match.match_date[:10] if match.match_date else 'N/A' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <br>
    <a href="/matches" class="btn-primary">Run New Match</a>
</div>
</body>
</html>
